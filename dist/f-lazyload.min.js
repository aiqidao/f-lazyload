!function(e,t){"function"==typeof define&&"object"===define.amd&&define.amd?define([],t):"object"==typeof module&&"object"==typeof module.exports&&module.exports?module.exports=t():e.Flazyload=t()}("undefined"!=typeof window?window:this,function(){function e(e){e=arguments.length>0?e:{};var t=this;t.src=e.sign||"data-src",t.srcset="data-srcset",t.tag=e.tag||"img",t.eles=document.querySelectorAll(t.tag+"["+t.src+"]"),t.length=t.eles.length,t.preload=e.proload||!0,t.winW=window.innerWidth,t.winH=window.innerHeight,t.init(e),t.addEvents(t)}return e.prototype={constructor:e,init:function(e){var t=this;t.preload&&t.onread(t)},isVisible:function(e){var t=e.getBoundingClientRect(),n=t.top,o=t.left,i=t.width,r=t.height;return n<this.winH&&n+r>=0&&o<this.winW&&o+i>=0},onread:function(e){for(var t=!1,n=!1,o=0;o<e.length;o++)e.isVisible(e.eles[o])&&(e.lazyload(e.eles[o]),t=!0);t&&(e.eles=document.querySelectorAll(e.tag+"["+e.src+"]"),e.length=e.eles.length,t=!1),e.length<=0&&!n&&(e.removeEvents(e),n=!0)},lazyload:function(e){var t=this.src,n=e.getAttribute(t)||"",o=new Image;o.addEventListener("load",function(){e.src=n,e.setAttribute(t,""),e.removeAttribute(t)},!1),o.addEventListener("error",function(){},!1),o.src=n},addEvents:function(e){window.addEventListener("scroll",function(){e.onread(e)},!1)},removeEvents:function(e){window.removeEventListener("scroll",function(){e.onread(e)},!1)}},e});